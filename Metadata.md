# Metadata

Metadata provides the details about the cfn-template

Syntax
```
Metadata:
    Instances:
        Description: "Information about the instances"
    Databases:
        Description: "Information about the databases"
```

We have **3 types of metadata keys** as listed below:
- AWS::Cloudformation::Designer

    Autogenerated during resources are dragged-dropped into canvas.
- AWS::Cloudformation::Interface

    Used for parameter grouping
- AWS::Cloudformation::Init

    Used for application installations and configuration on out AWS EC2 instances
    we will see this in detail in next section

## AWS::Cloudformation::Designer

1. Designer depicts how resources are laid out in canvas via this metadata
2. Designer automatically adds this information when we use it to create, view or update templates. It a system generated metadata
3. It defines the information such as their size, relative position (co-ordinate) in template metadata. All layout information is stored in designer metadata
4. AWS Designer/ Application Composer allows us to validate template as well as integrated editor to edit template/ convert json to yaml and vice versa

Example:
```
Resources:
    MyEC2Instance:
        Metadata:
            'AWS::Cloudformation::Designer':
                4882-4424-4244-EXAMPLE:
                    size:
                        width: 60
                        height: 60
                    position:
                        x: 340
                        y: 430
                    parent: 5353-5335-6646-EXAMPLE
                    ismemberOf:
                    - 2323-2323-3242-EXAMPLE
        Type:
        Properties:
```
            
### AWS::Cloudformation::Interface

*_Concepts_*

- By default, cloudformation console list the parameters in the alphabetical order
- By using this metadata key, we can definer our parameter grouping as well as ordering so that users can efficiently specify parameter values
- We can define parameter labels
- A parameter label is a friendly name or description or alias to display on cloudformation console instead of the logical Id of the parameter

*_Syntax_*

```
Metadata:
    AWS::Cloudformation::Interface
        ParameterGroups:
        - ParameterGroup
        ParameterLabels:
          ParameterLabel
```

Eg:
```
Metadata:
    AWS::Cloudformation::Interface:
        ParameterGroups:
        - Label:
            default: "Network Configuration"
          Parameters:
          - VPCId
          - SubnetId
          - SecurityGroupID
        - Label:
            default: "Amazon EC2 Configuration"
          Parameters:
          - InstanceType
          - KeyName
        ParameterLabels:
            VPCId:
                default: "Which VPC should this be deployed to?"
```

This above metadata of cloudformation interface shows parameters in console like
![Cloudformation Interface on console](https://docs.aws.amazon.com/images/AWSCloudFormation/latest/UserGuide/images/console-create-stack-parameter-groups.png)

### Points to remember

1. Metadata is a property of a resource or a resource attribute just like Type, Condition, DeletionPolicy, CreationPolicy, UpdatePolicy, DependsOn,etc
AWS::Cloudformation::Designer is a metadata key of a resource of this type
2. Metadata is also a section like Resources, Parameters, Outputs, etc
AWS::Cloudformation::Interface is a metadata key of this type

Resources:
    MyEC2Instance:
        Type:
        Condition:
        DependsOn:
        DeletionPolicy:
        Metadata: